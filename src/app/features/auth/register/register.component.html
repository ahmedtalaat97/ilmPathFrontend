<div class="register-container">
  <div class="background-elements">
    <div class="floating-shape shape1"></div>
    <div class="floating-shape shape2"></div>
    <div class="floating-shape shape3"></div>
    <div class="floating-shape shape4"></div>
  </div>
  
  <div class="register-content">
    <div class="register-header">
      <div class="logo">
        <mat-icon>school</mat-icon>
        <span>IlmPath</span>
      </div>
      <h1>Join IlmPath</h1>
      <p>Create your account and start your learning journey today</p>
    </div>

    <mat-card class="register-card">
      <mat-card-content>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
          <div class="name-row">
            <mat-form-field appearance="outline" class="half-width">
              <mat-label>First Name</mat-label>
              <input matInput formControlName="firstName" placeholder="Enter your first name">
              <mat-icon matSuffix>person</mat-icon>
              <mat-error *ngIf="registerForm.get('firstName')?.touched && registerForm.get('firstName')?.invalid">
                {{ getFieldError('firstName') }}
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="half-width">
              <mat-label>Last Name</mat-label>
              <input matInput formControlName="lastName" placeholder="Enter your last name">
              <mat-icon matSuffix>person</mat-icon>
              <mat-error *ngIf="registerForm.get('lastName')?.touched && registerForm.get('lastName')?.invalid">
                {{ getFieldError('lastName') }}
              </mat-error>
            </mat-form-field>
          </div>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Username</mat-label>
            <input matInput formControlName="userName" placeholder="Choose a unique username">
            <mat-icon matSuffix>account_circle</mat-icon>
            <mat-error *ngIf="registerForm.get('userName')?.touched && registerForm.get('userName')?.invalid">
              {{ getFieldError('userName') }}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Email Address</mat-label>
            <input matInput type="email" formControlName="email" placeholder="Enter your email address">
            <mat-icon matSuffix>email</mat-icon>
            <mat-error *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid">
              {{ getFieldError('email') }}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Password</mat-label>
            <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" placeholder="Create a strong password">
            <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" type="button">
              <mat-icon>{{hidePassword ? 'visibility' : 'visibility_off'}}</mat-icon>
            </button>
            <mat-error *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid">
              {{ getFieldError('password') }}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Confirm Password</mat-label>
            <input matInput [type]="hideConfirmPassword ? 'password' : 'text'" formControlName="confirmPassword" placeholder="Confirm your password">
            <button mat-icon-button matSuffix (click)="hideConfirmPassword = !hideConfirmPassword" type="button">
              <mat-icon>{{hideConfirmPassword ? 'visibility' : 'visibility_off'}}</mat-icon>
            </button>
            <mat-error *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid">
              {{ getFieldError('confirmPassword') }}
            </mat-error>
          </mat-form-field>

          <div class="terms-agreement">
            <mat-checkbox color="primary" formControlName="agreeToTerms">
              I agree to the <a href="#" class="terms-link">Terms of Service</a> and <a href="#" class="terms-link">Privacy Policy</a>
            </mat-checkbox>
          </div>

          <div class="success-message" *ngIf="successMessage">
            <mat-icon>check_circle</mat-icon>
            <span>{{ successMessage }}</span>
          </div>

          <div class="error-message" *ngIf="errorMessage">
            <mat-icon>error</mat-icon>
            <span>{{ errorMessage }}</span>
          </div>

          <button mat-raised-button color="primary" type="submit" 
                  [disabled]="registerForm.invalid || isLoading" class="full-width register-button">
            <mat-icon *ngIf="!isLoading">person_add</mat-icon>
            <mat-spinner diameter="20" *ngIf="isLoading"></mat-spinner>
            <span *ngIf="!isLoading">Create Account</span>
            <span *ngIf="isLoading">Creating Account...</span>
          </button>

          <div class="divider">
            <span>or</span>
          </div>

          <button mat-stroked-button type="button" class="full-width social-button google-button">
            <mat-icon>google</mat-icon>
            <span>Sign up with Google</span>
          </button>
        </form>
      </mat-card-content>
    </mat-card>
    
    <div class="login-link">
      <p>Already have an account? 
        <a routerLink="/login" class="login-link-btn">Sign In</a>
      </p>
    </div>

    <div class="benefits-preview">
      <div class="benefit-item">
        <mat-icon>auto_awesome</mat-icon>
        <span>AI-Powered Learning Assistant</span>
      </div>
      <div class="benefit-item">
        <mat-icon>workspace_premium</mat-icon>
        <span>Certificate of Completion</span>
      </div>
      <div class="benefit-item">
        <mat-icon>groups</mat-icon>
        <span>Join Learning Community</span>
      </div>
      <div class="benefit-item">
        <mat-icon>analytics</mat-icon>
        <span>Track Your Progress</span>
      </div>
    </div>
  </div>
</div> 